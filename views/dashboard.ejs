<%- include ('./partials/navbar') %>

<style>
    .card-grid {
        display: grid !important;
        grid-template-columns: auto 1fr;
    }
    #card-item-1 > img {
        width: 100px;
        height: 100px;
        object-fit: cover;
    }
    #card-item-1 {
        display: grid;
        margin-left: 22px;
        margin-top: 22px;
        margin-right: 0.5rem;
        width: 100px;
        height: 100px;
        grid-column: span 1;
    }
    #card-item-2 {
        grid-column: span 1;
    }
    @media only screen and (max-width: 575px) {
        .card-grid {
            display: grid !important;
            grid-template-columns: 1fr;
            grid-template-rows:  auto 1fr;
        }
        #card-item-1 > img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        #card-item-1 {
            display: grid;
            margin-left: 15px;
            margin-top: 15px;
            padding-right: 30px;
            margin-right: 0.5rem;
            width: 100%;
            height: 200px;
            grid-column: span 1;
        }
}
</style>

<div class="container">
    <div class="py-5">
        <h1 class="title">
            Hem
        </h1>
        <h2 class="subtitle">
            Välkommen <%= user.name %></p>
        </h2>
        <hr>
    </div>
    <% if(races.length == 0) { %>
    <div>
        <h4>Hmm, här va det tomt...</h4>
        <p>Här kan du se framtida tävlingar samt registrera dig!</p>
        <div class="my-5">
            <div class="card shadow bg-white rounded border-0">
                <div class="card-grid">
                    <div id="card-item-1">
                        <img src="https://bulma.io/images/placeholders/1280x960.png" alt="">
                    </div>
                    <div class="card-body card-item-2">
                        <h5 class="card-title">Exempel kort</h5>
                        <p style="color: darkgray;">Start: 2021-04-12</p>
                        <p style="color: darkgray;">Klubb: <a href="/club/Name">TäBK</a></p>
                        <p class="card-text">Här kommer det finnas information om framtida race. Här kommer det finnas information om framtida race. Här kommer det finnas information om framtida race. Här kommer det finnas information om framtida race</p>
                        <p style="color: darkgray;">Kontakt: <a href="/club/Name">Fredrik Burmester</a></p>
                        <a href="#" class="btn btn-primary">Registrera</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-6 my-4">
            <div class="card shadow bg-white rounded border-0">
                <div class="card-body">
                    <h5 class="card-title">Exempel kort</h5>
                    <p class="card-text">Här kommer det finnas information om framtida race</p>
                    <a href="#" class="btn btn-primary">Registrera</a>
                </div>
            </div>
        </div>
    </div>

    <% } else { %>
    <% for (var i = 0; i < races.length;  i++ ) { %>
    <div class="card my-2">
        <div class="card-header">
            Tävling
        </div>
        <div class="card-body">
            <h5 class="card-title"><%= races[i].name %></h5>
            <p class="card-text"><%= races[i].description %></p>
            <p class="card-text"><%= races[i].club %> - <%= races[i].org %></p>
            <a href="#" class="btn btn-primary">Registrera / Avregistrera</a>
        </div>
    </div>
    <% } %>
    <% }%>
</div>